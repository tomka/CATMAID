<p class="title">Ontologies:</p>

<div id="ontologies">
    <ul class="indented">
        {% for o in ontologies %}
            <li>{{ o }}</li>
        {% endfor %}
    </ul>
</div>

<div id="features">
    <p class="title">Features:</p>
    <table class="indented">
        <tr>
        {% for f in features %}
            <td>{{ f }}</td>
        {% endfor %}
        </tr>
        <tr>
        {% for f in features %}
            <td>{{ forloop.counter }}</td>
        {% endfor %}
        </tr>
    </table>
</div>

<div id="binary-matrix">
    <p class="title">Binary matrix:</p>
    <table class="indented">
        <tr>
            <td></td>
        {% for f in features %}
            <td>{{ forloop.counter }}</td>
        {% endfor %}
        </tr>
        {% for bin_row in bin_matrix %}
        <tr>
            <td>{{ bin_row.graph.name }}</td>
            {% for elem in bin_row.feature %}
                <td>{{ elem|floatformat:0 }}</td>
            {% endfor %}
        </tr>
        {% endfor %}
    </table>
</div>

<div id="distances">
    <p class="title">Distance matrix:</p>
    <p class="indented">Distance metric: {{ metric }}</p>
    <table class="indented" id="distance_matrix">
        <tr>
            <td></td>
            {% for g in graphs %}
                <td>{{ g.name }}</td>
            {% endfor %}
        </tr>
        {% for dst_row in dst_matrix %}
        <tr>
            <td>{{ dst_row.graph.name }}</td>
            {% for elem in dst_row.distances %}
                {% if forloop.counter < forloop.parentloop.counter %}
                    <td class="lowertriangle">{{ elem|floatformat:3 }}</td>
                {% elif forloop.counter == forloop.parentloop.counter %}
                    <td class="identity">{{ elem|floatformat:3 }}</td>
                {% else %}
                    <td class="uppertriangle">{{ elem|floatformat:3 }}</td>
                {% endif %}
            {% endfor %}
        </tr>
        {% endfor %}
    </table>
</div>

<div id="clustering">
    <p class="title">Dendrogram:</p>
    {# Smuggle the dendrogram data into the DOM #}
    <img width="1" height="1" src="{{ STATIC_URL }}widgets/themes/kde/empty.gif" alt=""
        onload="ClusteringWidget.render_clustering($.parseJSON('{{ dendrogram_json }}'));
            this.parentNode.removeChild(this);" />
    <div id="clustering-graph" class="indented"></div>
</div>
